name: apply-specs

templates:
  bin/deploy-specs.erb: bin/deploy-specs
  bin/run.erb: bin/run
  bin/pre-start.erb: bin/pre-start
  config/kubeconfig.erb: config/kubeconfig
  config/ca.pem.erb: config/ca.pem
  config/kubernetes-dashboard/kubernetes-dashboard.crt.erb: config/kubernetes-dashboard/kubernetes-dashboard.crt
  config/kubernetes-dashboard/kubernetes-dashboard.key.erb: config/kubernetes-dashboard/kubernetes-dashboard.key
  specs/addons.yml.erb: specs/addons.yml
  specs/coredns.yml.erb: specs/coredns.yml
  specs/kubernetes-dashboard.yml.erb: specs/kubernetes-dashboard.yml
  specs/metrics-server.yml.erb: specs/metrics-server.yml

properties:
  addons:
    description: A list of default add-ons bootstrapped in the Kubernetes cluster
  admin-username:
    description: The admin username for the Kubernetes cluster
  admin-password:
    description: The admin password for the Kubernetes cluster
  api-token:
    description: The token to access Kubernetes API
  specs.addons:
    description: Spec of the addons to be deployed into the Kubernetes cluster
    default: ""
  specs.coredns:
    description: Spec of the coredns to be deployed into the Kubernetes cluster
  specs.kubernetes-dashboard:
    description: Spec of the kubernetes dashboard to be deployed into the Kubernetes cluster
  specs.metrics-server:
    description: Spec of the metrics server to be deployed into the Kubernetes cluster
  timeout-sec:
    description: Timeout for system spec deployment
    default: 1200
  tls.kubernetes:
    description: "Certificate authority, certificate, and private key for the Kubernetes master"
  tls.kubernetes-dashboard:
    description: "Certificate authority, certificate, and private key for the Kubernetes dashboard"
  tls.metrics-server:
    description: "Certificate authority, certificate, and private key for Metrics Server"


consumes:
- name: kube-apiserver
  type: kube-apiserver
