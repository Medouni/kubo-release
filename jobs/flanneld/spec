---
name: flanneld

templates:
  bin/flanneld_ctl.erb: bin/flanneld_ctl
  config/ca.pem.erb: config/ca.pem
  config/cni-conf.json: config/cni-conf.json
  config/flanneld-rbac-policy.yml: config/flanneld-rbac-policy.yml
  config/kubeconfig.erb: config/kubeconfig
  config/net-conf.json: config/net-conf.json

packages:
- pid_utils
- etcdctl
- flanneld
- cni

consumes:
- name: kubernetes-api
  type: kubernetes-api

properties:
  api-token:
    description: The token to access kubernetes API
  tls.kubernetes:
      description: "Certificate and private key for the Kubernetes master"

consumes:
- name: etcd
  type: etcd_service
- name: kubernetes-api
  type: kubernetes-api
